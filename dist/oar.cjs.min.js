/*!
* @ferry-core/oar with v0.0.2
* Author: Michael Pan
* Built on 2022-10-24, 00:34:38
* Released under the MIT License Copyright (c) 2022
*/
"use strict";var e=require("axios"),t=require("qs");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(e),a=o(t);function i(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var c={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,o,r,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(n)switch(n.constructor){case Number:i=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:i="; expires="+n;break;case Date:i="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(r?"; domain="+r:"")+(o?"; path="+o:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!i(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:i,keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};function s(e){return"string"==typeof e||e instanceof String}function u(e){return Array.isArray(e)}function d(e){return"object"==typeof e}function f(e){var t;if(e.allowCsrf){!function(){var e=c.getItem("csrf_cookie")}();var n,o=e.csrfKeyName,r=null===(t=null===window||void 0===window?void 0:window.__custom_cookie)||void 0===t?void 0:t.csrf_cookie,a=c.getItem("csrf_cookie")||r||"";e.data||(e.data={}),s(o)&&(o=[o]),d(o)&&!u(o)&&(o=d(n=o)?Object.keys(n).map((function(e){return n[e]})):[]),u(o)&&o.forEach((function(t){"object"==typeof e.data&&!e.data[t]&&s(t)&&(e.data[t]=a)}))}}function p(){return"undefined"!=typeof window}var l={withCredentials:!0,allowCsrf:!0,csrfKeyName:["csrf_token","csrf"]};function m(e){var t,n;return null===(n=null===(t=null==e?void 0:e.interceptors)||void 0===t?void 0:t.request)||void 0===n||n.use((function(e){"get"===e.method&&e.cacheTime>0&&p(),"post"===e.method&&p()&&(f(e),function(e){var t=window.__statisObserver&&window.__statisObserver.__visitId;e.data||(e.data={}),"object"!=typeof e.data||e.data.visit_id&&""!==e.data.visit_id||(e.data.visit_id=t||"")}(e)),/^http:\/\//.test(e.url)&&p()&&(e.url=e.url.replace(/^(http|https):/,""));var t=!e.headers["content-type"]||/application\/x-www-form-urlencoded/.test(e.headers["content-type"]);return"post"!==e.method||"object"!=typeof e.data||e.data instanceof FormData||!t||(e.data=a.stringify(e.data)),e})),e.interceptors.response.use((function(e){return e}),(function(e){var t;return e.response?((t=e.response).config&&t.config.url,"string"==typeof t||"status: ".concat(t.status,", statusText: ").concat(t.statusText)):e.message&&e.message,Promise.reject(e)})),e}l.baseURL="",Object.assign(r.default.defaults,l);var v=r.default.create();m(v),v.create=function(e){return void 0===e&&(e={}),m(r.default.create(e))};var g=p()?window:void 0,w=g&&g.oar?g.oar:v;module.exports=w;